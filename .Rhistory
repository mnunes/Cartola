as.character(dados[1, ][1])
dados[1, ][1]
levels(dados[1, ][1])
data(package=dados[1, ][1])
data(package=dados[1, ][1])
dados[1, ][1]
as.character(dados[1, ][1])
expression(dados[1, ][1])
expression(eval(dados[1, ][1]))
string(dados[1, ][1])
character(dados[1, ][1])
dados[[3]][, 3]
dados
dados[[3]]
dados[[3]]
dados <- data(package = .packages(all.available = TRUE))
dados <- data.frame(package=dados[[3]][, 1],
dataset=dados[[3]][, 3])
dados[[3]]
dados[3]
dados[[1]]
dados[[2]]
dados[, 1]
dados[, 1][1]
levels(dados[, 1][1])
as.character(dados[, 1][1])
data(package=as.character(dados[, 1][1]))
dados <- data(package = .packages(all.available = TRUE))
dados <- data.frame(dataset=dados[[3]][, 3],
package=dados[[3]][, 1])
data(dados[, 1][1], package=as.character(dados[, 1][1]))
data(dados[, 1][1], package=as.character(dados[, 2][1]))
dados
dados[, 2][1]
as.character(dados[, 2][1])
dados[, 1][1]
data(as.character(dados[, 1][1]), package=as.character(dados[, 2][1]))
data(list=as.character(dados[, 1][1]), package=as.character(dados[, 2][1]))
ls()
.dados <- data(package = .packages(all.available = TRUE))
ls()
ls()
grep("dados", ls())
grep(!"dados", ls())
!grep("dados", ls())
grep("dados", ls())
grep("dados", ls()) %in% ls()
ls() %in% grep("dados", ls())
length(ls())
1:length(ls()) %in% grep("dados", ls())
!(1:length(ls()) %in% grep("dados", ls()))
ls[!(1:length(ls()) %in% grep("dados", ls()))]
ls()[!(1:length(ls()) %in% grep("dados", ls()))]
rm(list = ls()[!(1:length(ls()) %in% grep("dados", ls()))])
ls()
dados <- data(package = .packages(all.available = TRUE))
dados <- data.frame(dataset=dados[[3]][, 3],
package=dados[[3]][, 1])
data(list=as.character(dados[, 1][1]), package=as.character(dados[, 2][1]))
ls()
ls()[!(1:length(ls()) %in% grep("dados", ls()))]
dim(ls()[!(1:length(ls()) %in% grep("dados", ls()))])
ls()[!(1:length(ls()) %in% grep("dados", ls()))]
ls()[!(1:length(ls()) %in% grep("dados", ls()))]
eval(AirPassengers)
eval("AirPassengers")
?as.character()
deparse("AirPassengers")
dim(deparse("AirPassengers"))
?ls
mget("AirPassengers")
dim(mget("AirPassengers"))
dim(mget("AirPassengers")[1])
dim(mget("AirPassengers")[[1]])
lapply(mget(ls), dim)
lapply(mget(ls()), dim)
ls()
AirPassengers
AirPassengers <- as.data.frame(AirPassengers)
lapply(mget(ls()), dim)
AirPassengers
data(list=as.character(dados[, 1]), package=as.character(dados[, 2][1]))
warnings()
ls()
lapply(mget(ls()), dim)
as.character(dados[, 1])
dados[, 2]==dados[, 2][1]
data(list=as.character(dados[dados[, 2]==dados[, 2][1], 1]), package=as.character(dados[, 2][1]))
warnings()
as.character(dados[, 2][1]
dados[, 2][1]
length(unique(dados[, 2][1]))
length(unique(dados[, 2][1]))
length(unique(dados[, 2][1]))
length(unique(dados[, 2]))
1:length(unique(dados[, 2]))
j <- 1
data(list=as.character(dados[dados[, 2]==dados[, 2][j], 1]), package=as.character(dados[, 2][j]))
j <- 2
data(list=as.character(dados[dados[, 2]==dados[, 2][j], 1]), package=as.character(dados[, 2][j]))
warnings()
as.character(dados[, 2][j]
as.character(dados[, 2][j])
j <- 1
length(unique(dados[, 2][1]))
as.character(dados[, 2][j])
as.character(dados[dados[, 2]==dados[, 2][j], 2])
j
j <- 2
as.character(dados[dados[, 2]==dados[, 2][j], 2])
dados[, 2][j], 2]
dados[, 2][j], 2])
dados[, 2][j]
dados[, 2][j]
dados[, 2][1]
dados[, 2][2]
library(dplyr)
pacotes <- unique(dados$package)
dados %>%
filter(package==pacote[1])
dados %>%
filter(package==pacotes[1])
dadados <- dados %>%
filter(package==pacotes[1])
dadados <- dados %>%
filter(package==pacotes[j])
dados %>%
filter(package==pacotes[j])
data(package=pacotes[j])
data(package=as.character(pacotes[j]))
ls()
rm(list = ls()[!(1:length(ls()) %in% grep("dados", ls()))])
data(package=as.character(pacotes[j]))
pacotes <- unique(dados$package)
ls()[!(1:length(ls()) %in% grep("dados"|"pacotes", ls()))]
ls()[!(1:length(ls()) %in% grep(c("dados", "pacotes"), ls()))]
?grep
ls()[!(1:length(ls()) %in% grep("dados", ls()))]
rm(list = ls()[!(1:length(ls()) %in% grep("dados", ls()))])
pacotes <- unique(dados$package)
dadados <- dados %>%
filter(package==pacotes[j])
j <- 1
dadados <- dados %>%
filter(package==pacotes[j])
data(package=as.character(pacotes[j]))
ls()
data(dadados$dataset, package=as.character(pacotes[j]))
dadados <- dados %>%
filter(package==pacotes[j])
dadados
data(dadados$dataset, package=as.character(pacotes[j]))
dadados$dataset
dadados <- dados %>%
filter(package==pacotes[j])
dadados
dadados$dataset
dadados$dataset <- as.vector(dadados$dataset)
data(dadados$dataset, package=as.character(pacotes[j]))
data(list=dadados$dataset, package=as.character(pacotes[j]))
warnings()
#for (j in 1:length(unique(dados[, 2]))) {
for (j in 1:10) {
pacotes <- unique(dados$package)
dadados <- dados %>%
filter(package==pacotes[j])
dadados$dataset <- as.vector(dadados$dataset)
data(list=dadados$dataset, package=as.character(pacotes[j]))
lapply(mget(ls()), dim)
rm(list = ls()[!(1:length(ls()) %in% grep("dados", ls()))])
}
ls()
#for (j in 1:length(unique(dados[, 2]))) {
for (j in 1:10) {
pacotes <- unique(dados$package)
dadados <- dados %>%
filter(package==pacotes[j])
dadados$dataset <- as.vector(dadados$dataset)
data(list=dadados$dataset, package=as.character(pacotes[j]))
lapply(mget(ls()), dim)
rm(list = ls()[!(1:length(ls()) %in% grep("dados", ls()))])
}
tamDados <- NULL
j <- 1
pacotes <- unique(dados$package)
dadados <- dados %>%
filter(package==pacotes[j])
dadados$dataset <- as.vector(dadados$dataset)
data(list=dadados$dataset, package=as.character(pacotes[j]))
tamDados <- c(tamDados, lapply(mget(ls()), dim))
tamDados
library(dplyr)
dados <- data(package = .packages(all.available = TRUE))
dados <- data.frame(dataset=dados[[3]][, 3],
package=dados[[3]][, 1])
tamDados <- NULL
#for (j in 1:length(unique(dados[, 2]))) {
for (j in 1:10) {
pacotes <- unique(dados$package)
dadados <- dados %>%
filter(package==pacotes[j])
dadados$dataset <- as.vector(dadados$dataset)
data(list=dadados$dataset, package=as.character(pacotes[j]))
tamDados <- c(tamDados, lapply(mget(ls()), dim))
rm(list = ls()[!(1:length(ls()) %in% grep("dados", ls()))])
}
ls()[!(1:length(ls()) %in% grep("dados", ls()))])
dados <- data(package = .packages(all.available = TRUE))
dados <- data.frame(dataset=dados[[3]][, 3],
package=dados[[3]][, 1])
tamDados <- NULL
j <- 1
pacotes <- unique(dados$package)
dadados <- dados %>%
filter(package==pacotes[j])
dadados$dataset <- as.vector(dadados$dataset)
data(list=dadados$dataset, package=as.character(pacotes[j]))
tamDados <- c(tamDados, lapply(mget(ls()), dim))
ls()[!(1:length(ls()) %in% grep("dados", ls()))]
a <- ls()[!(1:length(ls()) %in% grep("dados", ls()))]
b <- ls()[!(1:length(ls()) %in% grep("tamDados", ls()))]
intersect(a, b)
rm(list=intersect(a, b))
ls()
library(dplyr)
dados <- data(package = .packages(all.available = TRUE))
dados <- data.frame(dataset=dados[[3]][, 3],
package=dados[[3]][, 1])
tamDados <- NULL
#for (j in 1:length(unique(dados[, 2]))) {
for (j in 1:10) {
pacotes <- unique(dados$package)
dadados <- dados %>%
filter(package==pacotes[j])
dadados$dataset <- as.vector(dadados$dataset)
data(list=dadados$dataset, package=as.character(pacotes[j]))
tamDados <- c(tamDados, lapply(mget(ls()), dim))
a <- ls()[!(1:length(ls()) %in% grep("dados", ls()))]
b <- ls()[!(1:length(ls()) %in% grep("tamDados", ls()))]
rm(list=intersect(a, b))
#rm(list = ls()[!(1:length(ls()) %in% grep("dados", ls()))])
}
tamDados
library(dplyr)
dados <- data(package = .packages(all.available = TRUE))
dados <- data.frame(dataset=dados[[3]][, 3],
package=dados[[3]][, 1])
tamDados <- NULL
ti <- proc.time()
for (j in 1:length(unique(dados[, 2]))) {
#for (j in 1:10) {
pacotes <- unique(dados$package)
dadados <- dados %>%
filter(package==pacotes[j])
dadados$dataset <- as.vector(dadados$dataset)
data(list=dadados$dataset, package=as.character(pacotes[j]))
tamDados <- c(tamDados, lapply(mget(ls()), dim))
a <- ls()[!(1:length(ls()) %in% grep("dados", ls()))]
b <- ls()[!(1:length(ls()) %in% grep("tamDados", ls()))]
rm(list=intersect(a, b))
#rm(list = ls()[!(1:length(ls()) %in% grep("dados", ls()))])
}
proc.time() - ti
detachAllPackages <- function() {
basic.packages <- c("package:stats","package:graphics","package:grDevices","package:utils","package:datasets","package:methods","package:base")
package.list <- search()[ifelse(unlist(gregexpr("package:",search()))==1,TRUE,FALSE)]
package.list <- setdiff(package.list,basic.packages)
if (length(package.list)>0)  for (package in package.list) detach(package, character.only=TRUE)
}
detachAllPackages()
ti <- proc.time()
for (j in 1:length(unique(dados[, 2]))) {
#for (j in 1:10) {
pacotes <- unique(dados$package)
dadados <- dados %>%
filter(package==pacotes[j])
dadados$dataset <- as.vector(dadados$dataset)
data(list=dadados$dataset, package=as.character(pacotes[j]))
tamDados <- c(tamDados, lapply(mget(ls()), dim))
a1 <- ls()[!(1:length(ls()) %in% grep("dados", ls()))]
a2 <- ls()[!(1:length(ls()) %in% grep("tamDados", ls()))]
a2 <- ls()[!(1:length(ls()) %in% grep("ti", ls()))]
rm(list=intersect(a1, a2, a3))
#rm(list = ls()[!(1:length(ls()) %in% grep("dados", ls()))])
detachAllPackages <- function() {
basic.packages <- c("package:stats","package:graphics","package:grDevices","package:utils","package:datasets","package:methods","package:base")
package.list <- search()[ifelse(unlist(gregexpr("package:",search()))==1,TRUE,FALSE)]
package.list <- setdiff(package.list,basic.packages)
if (length(package.list)>0)  for (package in package.list) detach(package, character.only=TRUE)
}
detachAllPackages()
}
proc.time() - ti
library(dplyr)
dados <- data(package = .packages(all.available = TRUE))
dados <- data.frame(dataset=dados[[3]][, 3],
package=dados[[3]][, 1])
tamDados <- NULL
ti <- proc.time()
for (j in 1:length(unique(dados[, 2]))) {
#for (j in 1:10) {
library(dplyr)
pacotes <- unique(dados$package)
dadados <- dados %>%
filter(package==pacotes[j])
dadados$dataset <- as.vector(dadados$dataset)
data(list=dadados$dataset, package=as.character(pacotes[j]))
tamDados <- c(tamDados, lapply(mget(ls()), dim))
a1 <- ls()[!(1:length(ls()) %in% grep("dados", ls()))]
a2 <- ls()[!(1:length(ls()) %in% grep("tamDados", ls()))]
a2 <- ls()[!(1:length(ls()) %in% grep("ti", ls()))]
rm(list=intersect(a1, a2, a3))
#rm(list = ls()[!(1:length(ls()) %in% grep("dados", ls()))])
detachAllPackages <- function() {
basic.packages <- c("package:stats","package:graphics","package:grDevices","package:utils","package:datasets","package:methods","package:base")
package.list <- search()[ifelse(unlist(gregexpr("package:",search()))==1,TRUE,FALSE)]
package.list <- setdiff(package.list,basic.packages)
if (length(package.list)>0)  for (package in package.list) detach(package, character.only=TRUE)
}
detachAllPackages()
}
proc.time() - ti
tamDados
dadados
library(dplyr)
dados <- data(package = .packages(all.available = TRUE))
dados <- data.frame(dataset=dados[[3]][, 3],
package=dados[[3]][, 1])
tamDados <- NULL
ti <- proc.time()
for (j in 1:length(unique(dados[, 2]))) {
#for (j in 1:10) {
library(dplyr)
pacotes <- unique(dados$package)
dadados <- dados %>%
filter(package==pacotes[j])
dadados$dataset <- as.vector(dadados$dataset)
data(list=dadados$dataset, package=as.character(pacotes[j]))
tamDados <- c(tamDados, lapply(mget(ls()), dim))
a1 <- ls()[!(1:length(ls()) %in% grep("dados", ls()))]
a2 <- ls()[!(1:length(ls()) %in% grep("tamDados", ls()))]
a2 <- ls()[!(1:length(ls()) %in% grep("ti", ls()))]
rm(list=intersect(a1, a2, a3))
#rm(list = ls()[!(1:length(ls()) %in% grep("dados", ls()))])
detachAllPackages <- function() {
basic.packages <- c("package:stats","package:graphics","package:grDevices","package:utils","package:datasets","package:methods","package:base")
package.list <- search()[ifelse(unlist(gregexpr("package:",search()))==1,TRUE,FALSE)]
package.list <- setdiff(package.list,basic.packages)
if (length(package.list)>0)  for (package in package.list) detach(package, character.only=TRUE)
}
detachAllPackages()
}
library(car)
library(dplyr)
dados <- data(package = .packages(all.available = TRUE))
dados <- data.frame(dataset=dados[[3]][, 3],
package=dados[[3]][, 1])
tamDados <- NULL
ti <- proc.time()
for (j in 1:length(unique(dados[, 2]))) {
#for (j in 1:10) {
library(dplyr)
pacotes <- unique(dados$package)
dadados <- dados %>%
filter(package==pacotes[j])
dadados$dataset <- as.vector(dadados$dataset)
data(list=dadados$dataset, package=as.character(pacotes[j]))
tamDados <- c(tamDados, lapply(mget(ls()), dim))
a1 <- ls()[!(1:length(ls()) %in% grep("dados", ls()))]
a2 <- ls()[!(1:length(ls()) %in% grep("tamDados", ls()))]
a2 <- ls()[!(1:length(ls()) %in% grep("ti", ls()))]
rm(list=intersect(a1, a2, a3))
#rm(list = ls()[!(1:length(ls()) %in% grep("dados", ls()))])
detachAllPackages <- function() {
basic.packages <- c("package:stats","package:graphics","package:grDevices","package:utils","package:datasets","package:methods","package:base")
package.list <- search()[ifelse(unlist(gregexpr("package:",search()))==1,TRUE,FALSE)]
package.list <- setdiff(package.list,basic.packages)
if (length(package.list)>0)  for (package in package.list) detach(package, character.only=TRUE)
}
detachAllPackages()
}
proc.time() - ti
ti <- proc.time()
for (j in 1:length(unique(dados[, 2]))) {
#for (j in 1:10) {
library(dplyr)
pacotes <- unique(dados$package)
dadados <- dados %>%
filter(package==pacotes[j])
dadados$dataset <- as.vector(dadados$dataset)
data(list=dadados$dataset, package=as.character(pacotes[j]))
tamDados <- c(tamDados, lapply(mget(ls()), dim))
a1 <- ls()[!(1:length(ls()) %in% grep("dados", ls()))]
a2 <- ls()[!(1:length(ls()) %in% grep("tamDados", ls()))]
a3 <- ls()[!(1:length(ls()) %in% grep("ti", ls()))]
rm(list=intersect(a1, a2, a3))
#rm(list = ls()[!(1:length(ls()) %in% grep("dados", ls()))])
detachAllPackages <- function() {
basic.packages <- c("package:stats","package:graphics","package:grDevices","package:utils","package:datasets","package:methods","package:base")
package.list <- search()[ifelse(unlist(gregexpr("package:",search()))==1,TRUE,FALSE)]
package.list <- setdiff(package.list,basic.packages)
if (length(package.list)>0)  for (package in package.list) detach(package, character.only=TRUE)
}
detachAllPackages()
}
proc.time() - ti
library(dplyr)
dados <- data(package = .packages(all.available = TRUE))
dados <- data.frame(dataset=dados[[3]][, 3],
package=dados[[3]][, 1])
tamDados <- NULL
ti <- proc.time()
for (j in 1:length(unique(dados[, 2]))) {
#for (j in 1:10) {
library(dplyr)
pacotes <- unique(dados$package)
dadados <- dados %>%
filter(package==pacotes[j])
dadados$dataset <- as.vector(dadados$dataset)
data(list=dadados$dataset, package=as.character(pacotes[j]))
tamDados <- c(tamDados, lapply(mget(ls()), dim))
a1 <- ls()[!(1:length(ls()) %in% grep("dados", ls()))]
a2 <- ls()[!(1:length(ls()) %in% grep("tamDados", ls()))]
a3 <- ls()[!(1:length(ls()) %in% grep("ti", ls()))]
rm(list=intersect(intersect(a1, a2), a3))
#rm(list = ls()[!(1:length(ls()) %in% grep("dados", ls()))])
detachAllPackages <- function() {
basic.packages <- c("package:stats","package:graphics","package:grDevices","package:utils","package:datasets","package:methods","package:base")
package.list <- search()[ifelse(unlist(gregexpr("package:",search()))==1,TRUE,FALSE)]
package.list <- setdiff(package.list,basic.packages)
if (length(package.list)>0)  for (package in package.list) detach(package, character.only=TRUE)
}
detachAllPackages()
}
proc.time() - ti
tamDados
ls()
rm(list=ls())
setwd("~/Documents/Research/github/Cartola")
library(tidyverse)
theme_set(theme_bw())
scouts_2014 <- as_data_frame(read.csv(file="dados/2014_scouts.csv"))
dim(scouts_2014)
atletas_2014 <- read.csv(file="dados/2014_atletas.csv")
clubes_2014  <- read.csv(file="dados/2014_clubes.csv")
scouts_2014 <- left_join(scouts_2014, atletas_2014, by=c("atleta_id"="id"))
scouts_2014 <- left_join(scouts_2014, clubes_2014, by=c("clube_id.x"="id"))
names(scouts_2014)
scouts_2014 <- scouts_2014 %>%
select(-clube_id.y, -posicao_id.y) %>%
filter(rodada > 0) %>%
na.omit()
summary(scouts_2014)
scouts_2014 %>%
group_by(apelido, nome, posicao_id.x) %>%
summarise(Media=mean(nota, na.rm=TRUE)) %>%
arrange(desc(Media))
scouts_2014 %>%
group_by(apelido, nome, posicao_id.x) %>%
filter(n() >= 27) %>%
summarise(Media=mean(nota, na.rm=TRUE)) %>%
arrange(desc(Media))
source("melhor.jogador.posicao.R")
source("melhor.time.R")
melhor.time(scouts_2014)
time.do.campeonato <- melhor.time(scouts_2014)
time.do.campeonato.rodadas <- scouts_2014 %>%
filter(apelido %in% time.do.campeonato$apelido)
ggplot(time.do.campeonato.rodadas, aes(x=rodada, y=preco_num, group=apelido)) +
geom_line(aes(colour=apelido)) +
geom_point(aes(colour=apelido)) +
labs(x="Rodada", y="Preço (Cartoletas)", colour="Jogador")
scouts_2014_regressao <- scouts_2014 %>%
group_by(apelido, nome, posicao_id.x) %>%
filter(n() >= 19) %>%
do(regressao = lm(preco_num ~ rodada, data=.))
tidy(scouts_2014_regressao, regressao) %>%
filter(term=="rodada") %>%
filter(p.value < 0.05/245) %>%
arrange(desc(estimate))
tidy(scouts_2014_regressao, regressao) %>%
filter(term=="rodada") %>%
filter(p.value < 0.05/245) %>%
arrange(estimate)
names(scouts_2014)
library(broom)
tidy(scouts_2014_regressao, regressao) %>%
filter(term=="rodada") %>%
filter(p.value < 0.05/245) %>%
arrange(estimate)
names(scouts_2014)
head(scouts_2014)
library(GGally)
scouts_2014 %>%
select(pontos_num, preco_num, nota) %>%
ggpairs(.)
?ggpairs
scouts_2014 %>%
select(pontos_num, preco_num, nota) %>%
ggpairs(., corMethod="spearman")
scouts_2014 %>%
select(pontos_num, preco_num, nota) %>%
ggpairs(., lower=list(corMethod="spearman"))
scouts_2014 %>%
select(pontos_num, preco_num, nota) %>%
ggpairs(., upper=list(continuous = "cor", corMethod="spearman"))
scouts_2014 %>%
select(pontos_num, preco_num, nota) %>%
ggcor(.)
scouts_2014 %>%
select(pontos_num, preco_num, nota) %>%
ggcorr(.)
